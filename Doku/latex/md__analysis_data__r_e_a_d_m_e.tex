This directory contains data needed by Bison.\hypertarget{md__analysis_data__r_e_a_d_m_e_autotoc_md43}{}\doxysection{Directory content}\label{md__analysis_data__r_e_a_d_m_e_autotoc_md43}
\hypertarget{md__analysis_data__r_e_a_d_m_e_autotoc_md44}{}\doxysubsection{Skeletons}\label{md__analysis_data__r_e_a_d_m_e_autotoc_md44}
Bison skeletons\+: the general shapes of the different parser kinds, that are specialized for specific grammars by the bison program.

Currently, the supported skeletons are\+:


\begin{DoxyItemize}
\item yacc.\+c It used to be named bison.\+simple\+: it corresponds to C Yacc compatible L\+A\+L\+R(1) parsers.
\item lalr1.\+cc Produces a C++ parser class.
\item lalr1.\+java Produces a Java parser class.
\item glr.\+c A Generalized LR C parser based on Bison\textquotesingle{}s L\+A\+L\+R(1) tables.
\item glr.\+cc A Generalized LR C++ parser. Actually a C++ wrapper around glr.\+c.
\end{DoxyItemize}

These skeletons are the only ones supported by the Bison team. Because the interface between skeletons and the bison program is not finished, {\itshape we are not bound to it}. In particular, Bison is not mature enough for us to consider that \char`\"{}foreign skeletons\char`\"{} are supported.\hypertarget{md__analysis_data__r_e_a_d_m_e_autotoc_md45}{}\doxysubsection{m4sugar}\label{md__analysis_data__r_e_a_d_m_e_autotoc_md45}
This directory contains M4sugar, sort of an extended library for M4, which is used by Bison to instantiate the skeletons.\hypertarget{md__analysis_data__r_e_a_d_m_e_autotoc_md46}{}\doxysubsection{xslt}\label{md__analysis_data__r_e_a_d_m_e_autotoc_md46}
This directory contains X\+S\+LT programs that transform Bison\textquotesingle{}s X\+ML output into various formats.


\begin{DoxyItemize}
\item bison.\+xsl A library of routines used by the other X\+S\+LT programs.
\item xml2dot.\+xsl Conversion into Graph\+Viz\textquotesingle{}s dot format.
\item xml2text.\+xsl Conversion into text.
\item xml2xhtml.\+xsl Conversion into X\+H\+T\+ML.
\end{DoxyItemize}\hypertarget{md__analysis_data__r_e_a_d_m_e_autotoc_md47}{}\doxysection{Implementation note about the skeletons}\label{md__analysis_data__r_e_a_d_m_e_autotoc_md47}
\char`\"{}\+Skeleton\char`\"{} in Bison parlance means \char`\"{}backend\char`\"{}\+: a skeleton is fed by the bison executable with LR tables, facts about the symbols, etc. and they generate the output (say parser.\+cc, parser.\+hh, location.\+hh, etc.). They are only in charge of generating the parser and its auxiliary files, they do not generate the X\+ML output, the parser.\+output reports, nor the graphical rendering.

The bits of information passing from bison to the backend is named \char`\"{}muscles\char`\"{}. Muscles are passed to M4 via its standard input\+: it\textquotesingle{}s a set of m4 definitions. To see them, use {\ttfamily -\/-\/trace=muscles}.

Except for muscles, whose names are generated by bison, the skeletons have no constraint at all on the macro names\+: there is no technical/theoretical limitation, as long as you generate the output, you can do what you want. However, of course, that would be a bad idea if, say, the C and C++ skeletons used different approaches and had completely different implementations. That would be a maintenance nightmare.

Below, we document some of the macros that we use in several of the skeletons. If you are to write a new skeleton, please, implement them for your language. Overall, be sure to follow the same patterns as the existing skeletons.\hypertarget{md__analysis_data__r_e_a_d_m_e_autotoc_md48}{}\doxysubsection{Symbols}\label{md__analysis_data__r_e_a_d_m_e_autotoc_md48}
\hypertarget{md__analysis_data__r_e_a_d_m_e_autotoc_md49}{}\doxysubsubsection{$<$tt$>$b4\+\_\+symbol(\+N\+U\+M, F\+I\+E\+L\+D)$<$/tt$>$}\label{md__analysis_data__r_e_a_d_m_e_autotoc_md49}
In order to unify the handling of the various aspects of symbols (tag, type name, whether terminal, etc.), bison.\+exe defines one macro per (token, field), where field can {\ttfamily has\+\_\+id}, {\ttfamily id}, etc.\+: see {\ttfamily prepare\+\_\+symbols\+\_\+definitions()} in {\ttfamily src/output.\+c}.

The macro {\ttfamily b4\+\_\+symbol(\+N\+U\+M, F\+I\+E\+L\+D)} gives access to the following F\+I\+E\+L\+DS\+:


\begin{DoxyItemize}
\item {\ttfamily has\+\_\+id}\+: 0 or 1.

Whether the symbol has an id.
\item {\ttfamily id}\+: string If has\+\_\+id, the id (prefixed by api.\+token.\+prefix if defined), otherwise defined as empty. Guaranteed to be usable as a C identifier.
\item {\ttfamily tag}\+: string. A representation of the symbol. Can be \textquotesingle{}foo\textquotesingle{}, \textquotesingle{}foo.\+id\textquotesingle{}, \textquotesingle{}\char`\"{}foo\char`\"{}\textquotesingle{} etc.
\item {\ttfamily user\+\_\+number}\+: integer The external number as used by yylex. Can be A\+S\+C\+II code when a character, some number chosen by bison, or some user number in the case of token F\+OO $<$\+N\+U\+M$>$. Corresponds to yychar in yacc.\+c.
\item {\ttfamily is\+\_\+token}\+: 0 or 1 Whether this is a terminal symbol.
\item {\ttfamily number}\+: integer The internal number (computed from the external number by yytranslate). Corresponds to yytoken in yacc.\+c. This is the same number that serves as key in b4\+\_\+symbol(\+N\+U\+M, F\+I\+E\+L\+D).

In bison, symbols are first assigned increasing numbers in order of appearance (but tokens first, then nterms). After grammar reduction, unused nterms are then renumbered to appear last (i.\+e., first tokens, then used nterms and finally unused nterms). This final number N\+UM is the one contained in this field, and it is the one used as key in {\ttfamily b4\+\_\+symbol(N\+UM, F\+I\+E\+LD)}.

The code of the rule actions, however, is emitted before we know what symbols are unused, so they use the original numbers. To avoid confusion, they actually use \char`\"{}orig N\+U\+M\char`\"{} instead of just \char`\"{}\+N\+U\+M\char`\"{}. bison also emits definitions for {\ttfamily b4\+\_\+symbol(orig N\+U\+M, number)} that map from original numbers to the new ones. {\ttfamily b4\+\_\+symbol} actually resolves {\ttfamily orig N\+UM} in the other case, i.\+e., {\ttfamily b4\+\_\+symbol(orig 42, tag)} would return the tag of the symbols whose original number was 42.
\item {\ttfamily has\+\_\+type}\+: 0, 1 Whether has a semantic value.
\item {\ttfamily type\+\_\+tag}\+: string When api.\+value.\+type=union, the generated name for the union member. yytype\+\_\+\+I\+NT etc. for symbols that has\+\_\+id, otherwise yytype\+\_\+1 etc.
\item {\ttfamily type} If it has a semantic value, its type tag, or, if variant are used, its type. In the case of api.\+value.\+type=union, type is the real type (e.\+g. int).
\item {\ttfamily has\+\_\+printer}\+: 0, 1
\item {\ttfamily printer}\+: string
\item {\ttfamily printer\+\_\+file}\+: string
\item {\ttfamily printer\+\_\+line}\+: integer
\item {\ttfamily printer\+\_\+loc}\+: location If the symbol has a printer, everything about it.
\item {\ttfamily has\+\_\+destructor}, {\ttfamily destructor}, {\ttfamily destructor\+\_\+file}, {\ttfamily destructor\+\_\+line}, {\ttfamily destructor\+\_\+loc} Likewise.
\end{DoxyItemize}\hypertarget{md__analysis_data__r_e_a_d_m_e_autotoc_md50}{}\doxysubsubsection{$<$tt$>$b4\+\_\+symbol\+\_\+value(\+V\+A\+L, \mbox{[}\+S\+Y\+M\+B\+O\+L-\/\+N\+U\+M\mbox{]}, \mbox{[}\+T\+Y\+P\+E-\/\+T\+A\+G\mbox{]})$<$/tt$>$}\label{md__analysis_data__r_e_a_d_m_e_autotoc_md50}
Expansion of \$\$, \$1, \$$<$T\+Y\+P\+E-\/\+T\+AG$>$3, etc.

The semantic value from a given V\+AL.
\begin{DoxyItemize}
\item {\ttfamily V\+AL}\+: some semantic value storage (typically a union). e.\+g., {\ttfamily yylval}
\item {\ttfamily S\+Y\+M\+B\+O\+L-\/\+N\+UM}\+: the symbol number from which we extract the type tag.
\item {\ttfamily T\+Y\+P\+E-\/\+T\+AG}, the user forced the {\ttfamily $<$T\+Y\+P\+E-\/\+T\+AG$>$}.
\end{DoxyItemize}

The result can be used safely, it is put in parens to avoid nasty precedence issues.\hypertarget{md__analysis_data__r_e_a_d_m_e_autotoc_md51}{}\doxysubsubsection{$<$tt$>$b4\+\_\+lhs\+\_\+value(\+S\+Y\+M\+B\+O\+L-\/\+N\+U\+M, \mbox{[}\+T\+Y\+P\+E\mbox{]})$<$/tt$>$}\label{md__analysis_data__r_e_a_d_m_e_autotoc_md51}
Expansion of {\ttfamily \$\$} or {\ttfamily \$$<$T\+Y\+PE$>$\$}, for symbol {\ttfamily S\+Y\+M\+B\+O\+L-\/\+N\+UM}.\hypertarget{md__analysis_data__r_e_a_d_m_e_autotoc_md52}{}\doxysubsubsection{$<$tt$>$b4\+\_\+rhs\+\_\+data(\+R\+U\+L\+E-\/\+L\+E\+N\+G\+T\+H, P\+O\+S)$<$/tt$>$}\label{md__analysis_data__r_e_a_d_m_e_autotoc_md52}
The data corresponding to the symbol {\ttfamily \#P\+OS}, where the current rule has {\ttfamily R\+U\+L\+E-\/\+L\+E\+N\+G\+TH} symbols on R\+HS.\hypertarget{md__analysis_data__r_e_a_d_m_e_autotoc_md53}{}\doxysubsubsection{$<$tt$>$b4\+\_\+rhs\+\_\+value(\+R\+U\+L\+E-\/\+L\+E\+N\+G\+T\+H, P\+O\+S, S\+Y\+M\+B\+O\+L-\/\+N\+U\+M, \mbox{[}\+T\+Y\+P\+E\mbox{]})$<$/tt$>$}\label{md__analysis_data__r_e_a_d_m_e_autotoc_md53}
Expansion of {\ttfamily \$$<$T\+Y\+PE$>$P\+OS}, where the current rule has {\ttfamily R\+U\+L\+E-\/\+L\+E\+N\+G\+TH} symbols on R\+HS.

\DoxyHorRuler{0}


Local Variables\+: mode\+: markdown fill-\/column\+: 76 ispell-\/dictionary\+: \char`\"{}american\char`\"{} End\+:

Copyright (C) 2002, 2008-\/2015, 2018-\/2019 Free Software Foundation, Inc.

This file is part of G\+NU Bison.

This program is free software\+: you can redistribute it and/or modify it under the terms of the G\+NU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but W\+I\+T\+H\+O\+UT A\+NY W\+A\+R\+R\+A\+N\+TY; without even the implied warranty of M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY or F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE. See the G\+NU General Public License for more details.

You should have received a copy of the G\+NU General Public License along with this program. If not, see \href{http://www.gnu.org/licenses/}{\texttt{ http\+://www.\+gnu.\+org/licenses/}}. 