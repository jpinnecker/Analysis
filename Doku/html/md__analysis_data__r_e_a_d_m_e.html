<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Analysis: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Analysis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__analysis_data__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This directory contains data needed by Bison.</p>
<h1><a class="anchor" id="autotoc_md43"></a>
Directory content</h1>
<h2><a class="anchor" id="autotoc_md44"></a>
Skeletons</h2>
<p>Bison skeletons: the general shapes of the different parser kinds, that are specialized for specific grammars by the bison program.</p>
<p>Currently, the supported skeletons are:</p>
<ul>
<li>yacc.c It used to be named bison.simple: it corresponds to C Yacc compatible LALR(1) parsers.</li>
<li>lalr1.cc Produces a C++ parser class.</li>
<li>lalr1.java Produces a Java parser class.</li>
<li>glr.c A Generalized LR C parser based on Bison's LALR(1) tables.</li>
<li>glr.cc A Generalized LR C++ parser. Actually a C++ wrapper around glr.c.</li>
</ul>
<p>These skeletons are the only ones supported by the Bison team. Because the interface between skeletons and the bison program is not finished, <em>we are not bound to it</em>. In particular, Bison is not mature enough for us to consider that "foreign skeletons" are supported.</p>
<h2><a class="anchor" id="autotoc_md45"></a>
m4sugar</h2>
<p>This directory contains M4sugar, sort of an extended library for M4, which is used by Bison to instantiate the skeletons.</p>
<h2><a class="anchor" id="autotoc_md46"></a>
xslt</h2>
<p>This directory contains XSLT programs that transform Bison's XML output into various formats.</p>
<ul>
<li>bison.xsl A library of routines used by the other XSLT programs.</li>
<li>xml2dot.xsl Conversion into GraphViz's dot format.</li>
<li>xml2text.xsl Conversion into text.</li>
<li>xml2xhtml.xsl Conversion into XHTML.</li>
</ul>
<h1><a class="anchor" id="autotoc_md47"></a>
Implementation note about the skeletons</h1>
<p>"Skeleton" in Bison parlance means "backend": a skeleton is fed by the bison executable with LR tables, facts about the symbols, etc. and they generate the output (say parser.cc, parser.hh, location.hh, etc.). They are only in charge of generating the parser and its auxiliary files, they do not generate the XML output, the parser.output reports, nor the graphical rendering.</p>
<p>The bits of information passing from bison to the backend is named "muscles". Muscles are passed to M4 via its standard input: it's a set of m4 definitions. To see them, use <code>--trace=muscles</code>.</p>
<p>Except for muscles, whose names are generated by bison, the skeletons have no constraint at all on the macro names: there is no technical/theoretical limitation, as long as you generate the output, you can do what you want. However, of course, that would be a bad idea if, say, the C and C++ skeletons used different approaches and had completely different implementations. That would be a maintenance nightmare.</p>
<p>Below, we document some of the macros that we use in several of the skeletons. If you are to write a new skeleton, please, implement them for your language. Overall, be sure to follow the same patterns as the existing skeletons.</p>
<h2><a class="anchor" id="autotoc_md48"></a>
Symbols</h2>
<h3><a class="anchor" id="autotoc_md49"></a>
&lt;tt&gt;b4_symbol(NUM, FIELD)&lt;/tt&gt;</h3>
<p>In order to unify the handling of the various aspects of symbols (tag, type name, whether terminal, etc.), bison.exe defines one macro per (token, field), where field can <code>has_id</code>, <code>id</code>, etc.: see <code>prepare_symbols_definitions()</code> in <code>src/output.c</code>.</p>
<p>The macro <code>b4_symbol(NUM, FIELD)</code> gives access to the following FIELDS:</p>
<ul>
<li><p class="startli"><code>has_id</code>: 0 or 1.</p>
<p class="startli">Whether the symbol has an id.</p>
</li>
<li><code>id</code>: string If has_id, the id (prefixed by api.token.prefix if defined), otherwise defined as empty. Guaranteed to be usable as a C identifier.</li>
<li><code>tag</code>: string. A representation of the symbol. Can be 'foo', 'foo.id', '"foo"' etc.</li>
<li><code>user_number</code>: integer The external number as used by yylex. Can be ASCII code when a character, some number chosen by bison, or some user number in the case of token FOO &lt;NUM&gt;. Corresponds to yychar in yacc.c.</li>
<li><code>is_token</code>: 0 or 1 Whether this is a terminal symbol.</li>
<li><p class="startli"><code>number</code>: integer The internal number (computed from the external number by yytranslate). Corresponds to yytoken in yacc.c. This is the same number that serves as key in b4_symbol(NUM, FIELD).</p>
<p class="startli">In bison, symbols are first assigned increasing numbers in order of appearance (but tokens first, then nterms). After grammar reduction, unused nterms are then renumbered to appear last (i.e., first tokens, then used nterms and finally unused nterms). This final number NUM is the one contained in this field, and it is the one used as key in <code>b4_symbol(NUM, FIELD)</code>.</p>
<p class="startli">The code of the rule actions, however, is emitted before we know what symbols are unused, so they use the original numbers. To avoid confusion, they actually use "orig NUM" instead of just "NUM". bison also emits definitions for <code>b4_symbol(orig NUM, number)</code> that map from original numbers to the new ones. <code>b4_symbol</code> actually resolves <code>orig NUM</code> in the other case, i.e., <code>b4_symbol(orig 42, tag)</code> would return the tag of the symbols whose original number was 42.</p>
</li>
<li><code>has_type</code>: 0, 1 Whether has a semantic value.</li>
<li><code>type_tag</code>: string When api.value.type=union, the generated name for the union member. yytype_INT etc. for symbols that has_id, otherwise yytype_1 etc.</li>
<li><code>type</code> If it has a semantic value, its type tag, or, if variant are used, its type. In the case of api.value.type=union, type is the real type (e.g. int).</li>
<li><code>has_printer</code>: 0, 1</li>
<li><code>printer</code>: string</li>
<li><code>printer_file</code>: string</li>
<li><code>printer_line</code>: integer</li>
<li><code>printer_loc</code>: location If the symbol has a printer, everything about it.</li>
<li><code>has_destructor</code>, <code>destructor</code>, <code>destructor_file</code>, <code>destructor_line</code>, <code>destructor_loc</code> Likewise.</li>
</ul>
<h3><a class="anchor" id="autotoc_md50"></a>
&lt;tt&gt;b4_symbol_value(VAL, [SYMBOL-NUM], [TYPE-TAG])&lt;/tt&gt;</h3>
<p>Expansion of $$, $1, $&lt;TYPE-TAG&gt;3, etc.</p>
<p>The semantic value from a given VAL.</p><ul>
<li><code>VAL</code>: some semantic value storage (typically a union). e.g., <code>yylval</code></li>
<li><code>SYMBOL-NUM</code>: the symbol number from which we extract the type tag.</li>
<li><code>TYPE-TAG</code>, the user forced the <code>&lt;TYPE-TAG&gt;</code>.</li>
</ul>
<p>The result can be used safely, it is put in parens to avoid nasty precedence issues.</p>
<h3><a class="anchor" id="autotoc_md51"></a>
&lt;tt&gt;b4_lhs_value(SYMBOL-NUM, [TYPE])&lt;/tt&gt;</h3>
<p>Expansion of <code>$$</code> or <code>$&lt;TYPE&gt;$</code>, for symbol <code>SYMBOL-NUM</code>.</p>
<h3><a class="anchor" id="autotoc_md52"></a>
&lt;tt&gt;b4_rhs_data(RULE-LENGTH, POS)&lt;/tt&gt;</h3>
<p>The data corresponding to the symbol <code>#POS</code>, where the current rule has <code>RULE-LENGTH</code> symbols on RHS.</p>
<h3><a class="anchor" id="autotoc_md53"></a>
&lt;tt&gt;b4_rhs_value(RULE-LENGTH, POS, SYMBOL-NUM, [TYPE])&lt;/tt&gt;</h3>
<p>Expansion of <code>$&lt;TYPE&gt;POS</code>, where the current rule has <code>RULE-LENGTH</code> symbols on RHS.</p>
<hr  />
<p>Local Variables: mode: markdown fill-column: 76 ispell-dictionary: "american" End:</p>
<p>Copyright (C) 2002, 2008-2015, 2018-2019 Free Software Foundation, Inc.</p>
<p>This file is part of GNU Bison.</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
